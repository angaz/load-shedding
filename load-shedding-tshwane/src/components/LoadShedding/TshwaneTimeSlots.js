const TIMESLOTS = [{
  timeslot: { start: '00:00', end: '02:30' },
  start: 0,
  end: 150,
  stages: [
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
      [11, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15],
      [15, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3],
      [3, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7],
      [7, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11],
  ],
}, {
  timeslot: { start: '02:00', end: '04:30' },
  start: 120,
  end: 270,
  stages: [
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
  ],
}, {
  timeslot: { start: '04:00', end: '06:30' },
  start: 240,
  end: 390,
  stages: [
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
  ],
}, {
  timeslot: { start: '06:00', end: '08:30' },
  start: 360,
  end: 510,
  stages: [
      [4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3],
      [8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7],
      [12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11],
      [16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15],
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
  ],
}, {
  timeslot: { start: '08:00', end: '10:30' },
  start: 480,
  end: 630,
  stages: [
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
      [4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3],
      [8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7],
      [12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11],
      [16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15],
  ],
}, {
  timeslot: { start: '10:00', end: '12:30' },
  start: 600,
  end: 750,
  stages: [
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
  ],
}, {
  timeslot: { start: '12:00', end: '14:30' },
  start: 720,
  end: 870,
  stages: [
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
  ],
}, {
  timeslot: { start: '14:00', end: '16:30' },
  start: 840,
  end: 990,
  stages: [
      [8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7],
      [12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11],
      [16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15],
      [4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3],
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
  ],
}, {
  timeslot: { start: '16:00', end: '18:30' },
  start: 960,
  end: 1110,
  stages: [
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
      [8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7],
      [12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11],
      [16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15],
      [4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3],
  ],
}, {
  timeslot: { start: '18:00', end: '20:30' },
  start: 1080,
  end: 1230,
  stages: [
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
      [9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8],
      [13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12],
      [1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16],
      [5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4],
  ],
}, {
  timeslot: { start: '20:00', end: '22:30' },
  start: 1200,
  end: 1350,
  stages: [
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
      [10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9],
      [14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13],
      [2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1],
      [6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5],
  ],
}, {
  timeslot: { start: '22:00', end: '00:30' },
  start: 1320,
  end: 1470,
  stages: [
      [12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11],
      [16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15],
      [4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3],
      [8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7],
      [11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6, 2, 15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10],
      [15, 11, 7, 3, 16, 12, 8, 4, 1, 13, 9, 5, 2, 14, 10, 6, 3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14],
      [3, 15, 11, 7, 4, 16, 12, 8, 5, 1, 13, 9, 6, 2, 14, 10, 7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2],
      [7, 3, 15, 11, 8, 4, 16, 12, 9, 5, 1, 13, 10, 6, 2, 14, 11, 7, 3, 15, 12, 8, 4, 16, 13, 9, 5, 1, 14, 10, 6],
  ],
}];

const between = (value, lower, upper) => (lower <= value && value < upper);

const dateToMinute = date => date.getHours() * 60 + date.getMinutes();

const range = (start, end) => [...Array(end - start).keys()].map(i => i + start);

export default (stage, group, currentDate, length=2) => {
  let currentMinute = dateToMinute(currentDate);
  let date = new Date(currentDate);
  let today = true;
  let ret = [];

  while (true) {
    const dom = date.getDate() - 1;
    const minute = dateToMinute(date);

    for (const { timeslot, start, end, stages } of TIMESLOTS) {
      if (today && minute > end) {
        continue;
      }

      for (const currentStage of (stage ? range(0, stage) : [0])) {
        if (stages[currentStage][dom] === group) {
          let newTS = {
            timeslot,
            current: (between(currentMinute, start, end) || between(currentMinute + 1440, start, end)),
            date,
          };

          if (ret.length === 0 || newTS.timeslot.start !== ret[ret.length - 1].timeslot.start) {
            ret.push(newTS);
          }

          if (ret.length === length) {
            return ret;
          }
        }
      }
    }

    // No matching timeslot
    // Add one hour / 3600 seconds to current date
    date = new Date(date.getTime() + 3600000);
    if (today && date.getHours() === 0) {
      today = false;
    }
  }
};
